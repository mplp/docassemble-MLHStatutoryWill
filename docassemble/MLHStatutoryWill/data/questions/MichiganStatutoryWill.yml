---
include:
  - docassemble.AssemblyLine:assembly_line.yml
  - docassemble.ALAnyState:any_state.yml
  - docassemble.mlhframework:mlh_interview_framework.yml
  - docassemble.ALToolbox:collapse_template.yml
---
metadata:
  title: Michigan Statutory Will
  short title: Michigan Statutory Will
  subtitle: Helps you figure out if the Michigan Statutory Will is right for you.
  description: |
    This tool will help you figure out if the Michigan Statutory Will is right for you and, if so, help you prepare one.
  tags:
    - "Family"
    - "Domicile"
  authors:
    - Pratibha Bharti
    - Anshuman Tiwari
    - Kelly McGuire
# dependencies as of 8/25/25 (removed due to install issues):
# - 'docassemble.ALAnyState @ git+https://github.com/SuffolkLITLab/docassemble-ALAnyState.git@main'
# - 'docassemble.ALToolbox>=0.11.1', 'docassemble.AssemblyLine @ git+https://github.com/suffolklitlab/docassemble-assemblyline.git@main'
# - 'docassemble.mlhframework @ git+https://github.com/mplp/docassemble-mlhframework.git@main']
---
features:
  labels above fields: True
---
sections:
  - signpost_intro: "Introduction"
  - signpost_qualify: "Do you qualify?"
  - signpost_user: "Your Information"
  - signpost_cash_gifts: "Cash Gifts"
  - signpost_goods: "Personal and Household Items"
  - signpost_residue: "Residue"
  - signpost_representatives: "Personal Representatives"
  - signpost_guardians: "Guardians"
  - signpost_conservators: "Conservators"
  - signpost_bond: "Bond"
  - signpost_done: "Get Your Will and Sign It"
  - review_full: "âœŽ <u>Review / Edit</u>"
---
code:  |
  github_repo_name = 'docassemble-MLHStatutoryWill' if get_config('debug') else 'docassemble-UserFeedback'
---
code: |
  survey_link_url_only = "https://www.surveymonkey.com/r/XZZG2KW"
---
template: survey_embed_script
content: |
  <script>
    (function(t,e,s,n){var o,a,c;t.SMCX=t.SMCX||[],e.getElementById(n)||(o=e.getElementsByTagName(s),a=o[o.length-1],c=e.createElement(s),c.type="text/javascript",c.async=!0,c.id=n,c.src="https://widget.surveymonkey.com/collect/website/js/tRaiETqnLgj758hTBazgd08QHVw1Udpw8NOSW9kW336RFTqaG57NKDJYWjwgENNv.js",a.parentNode.insertBefore(c,a))})(window,document,"script","smcx-sdk");
  </script>
---
# set intro landing screen variables
code: |
  MLH_form_type = "will"
  MLH_time_min = 15
  MLH_time_max = 30
---
code: |
  resource_page_url_only = "https://michiganlegalhelp.org/node/7879"
  resource_page_name = "Making a Will"
---
# -----------------------------------------------------------------------------
## interview block
# -----------------------------------------------------------------------------
---
id: interview_order_michigan_statutory_will
mandatory: True
scan for variables: False
code: |
  nav.set_section("review_full")
  nav.set_section("signpost_intro")
  MLH_intro_agree_no_pii = True
  MLH_standard_intro_pages
  intro_tool_fit

  nav.set_section("signpost_qualify")
  has_mental_capacity
  if not has_mental_capacity:
    exit_no_valid_will

  force_or_threat
  if force_or_threat == "No, someone is pressuring me":
    exit_duress_influence

  witness_explanation
  if has_existing_will:
    replace_existing_will
  if has_trust:
    exit_no_valid_will

  nav.set_section("signpost_user")
  users.number()
  users[0].birthdate
  if users[0].age_in_years() < 18:
    emancipated_minor
    if not emancipated_minor:
      exit_minor_status
  if not michigan_resident:
    exit_not_michigan_resident
  county_choice

  spouse.number()
  if children.there_are_any:
    children.gather()
    has_minor_child

  nav.set_section("signpost_cash_gifts")
  giftee.number()

  nav.set_section("signpost_goods")
  tangible_property.there_are_any
  if not tangible_property.number():
    blank_list_print

  nav.set_section("signpost_residue")
  residue_general_explanation
  if spouse:
    residue_distribution

  nav.set_section("signpost_representatives")
  personal_representatives
  representatives.number()

  nav.set_section("signpost_guardians")
  
  if children and has_minor_child:
    guardians
    guardians_explanation
    if not guardians.number():
      guardian_warning

  nav.set_section("signpost_conservators")
  conservators
  if children and has_minor_child:
    if not conservators.number():
      conservators_warning

  nav.set_section("signpost_bond")
  require_bond

  nav.set_section("signpost_done")
  MLH_outro_saving_answers
  MLH_patience_assembling
  MLH_download
---
# -----------------------------------------------------------------------------
## objects
# -----------------------------------------------------------------------------
---
objects:
  - users: ALPeopleList.using(
      there_are_any=True,
      there_is_another=False,
      target_number=1,
      complete_attribute="complete",
      )
  - spouse: ALPeopleList.using(
      there_is_another=False,
      target_number=1,
      complete_attribute="complete",
      )
  - children: ALPeopleList.using(
      ask_number=True,
      complete_attribute="complete",
      )
  - giftee: ALPeopleList.using(
      target_number=1,
      complete_attribute="complete",
      )
  - tangible_property: DAList.using(
      object_type=DAObject,
      complete_attribute="complete",
      )
  - representatives: ALPeopleList.using(
      there_are_any=True,
      target_number=1,
      complete_attribute="complete",
      )
  - guardians: ALPeopleList.using(
      complete_attribute="complete",
      )
  - conservators: ALPeopleList.using(
      complete_attribute="complete",
      )
---
generic object: ALIndividual
code: |
  x.name.first
  x.complete = True
---
code: |
  children[i].entity_type = 'person'
  children[i].name.first
  if children[i] in giftee.elements:
    children[i].us_address_yn
    children[i].address.address
    children[i].gift_amount
  children[i].complete = True
---
code: |
  giftee[i].entity_type
  giftee[i].name.first
  giftee[i].us_address_yn
  giftee[i].address.address
  giftee[i].gift_amount
  giftee[i].complete = True
---
code: |
  tangible_property[i].item
  tangible_property[i].recipient_name
  tangible_property[i].complete = True
---
code: |
  representatives[i].entity_type
  representatives[i].name.first
  representatives[i].address.address
  representatives[i].complete = True
---
code: |
  guardians[i].entity_type = 'person'
  guardians[i].name.first
  guardians[i].address.address
  guardians[i].complete = True
---
code: |
  conservators[i].entity_type
  conservators[i].name.first
  conservators[i].address.address
  conservators[i].complete = True
---
# review screen handling of spouse changes
code: |
  if spouse.there_are_any == False:
    undefine('spouse[0]')
    undefine('residue_distribution')
  
  reset_spouse = True
---
# review screen handling of adding children after saying there aren't any
code: |
  if children.there_are_any:
    children.gather()
    if children and has_minor_child:
      guardians
      guardians_explanation
      if not guardians.number():
        guardian_warning
      conservators
      if not conservators.number():
        conservators_warning

  reset_children = True
---
# -----------------------------------------------------------------------------
## questions
# -----------------------------------------------------------------------------
---
template: MLH_welcome_message
content: |
  Welcome to the ${ MLH_interview_short_title } tool.

  This tool will help you figure out if the ${ MLH_interview_short_title } is right for you and, if so, help you prepare one. You will be asked questions about you, your family, and your property.
---
id: intro_tool_fit
question: |
  Since writing a will can be complicated, Michigan law created a simple form called the Michigan Statutory Will.
subquestion: |
  This is a fill-in-the-blank form that becomes a legally valid will when you complete it correctly and sign it in front of two witnesses.

  The statutory will has some limits on how you can distribute your property, but it's an easy and affordable option for people who want a basic will without hiring a lawyer.

  **Will this tool work for your situation? You must meet these requirements:**

    * Be 18 or older
    * Live in Michigan
    * Not own Native American trust lands

  **This form can name the person who should distribute your property after you die. You can also:**

    * Choose who will take care of your children if they are under 18
    * Make cash gifts to up to two people or charities
    * Give specific personal items like furniture or jewelry to anyone you want
    * Leave your remaining property to your spouse and children, or to your closest family members if you do not have a spouse or children

  **Consider hiring a lawyer instead if you:**

    * Have a child with special needs who might lose benefits if they inherit money
    * Are the guardian for your spouse or adult child and need to name a replacement in your will
    * Own a business or have other complicated property, like property held in a {trust}
    * Have enough money or property to make legal fees worthwhile

  Use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) to find lawyers or legal services in your area.
continue button field: intro_tool_fit
terms:
  trust: |
    A legal tool where someone holds and manages money or property for someone else. People can use trusts as part of their estate planning to control how property is distributed after they die. A trust can say that property goes to heirs at certain ages or under specific conditions.
---
id: has_mental_capacity
question: |
  You must have mental capacity to make a will
subquestion: |
  You must understand what you are doing when you make your will. This is called having mental "capacity" to sign the document.
  
  To have mental capacity to sign a will you must understand:

  * You are creating a document that gives away your belongings after you die
  * What you own and approximately how much it is worth
  * Who your family members are
  * What having a will means

fields:
  - Do you have the mental capacity to make a will?: has_mental_capacity
    datatype: yesnoradio
---
id: exit_no_valid_will
event: exit_no_valid_will
question: |
  Sorry, you may not be able to create a valid will.
subquestion: |
  You may want to contact a lawyer for help. You can use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) on Michigan Legal Help to find a lawyer or a legal services office near you. If you think you made a mistake, tap **Undo** and change the answer to this question.
action buttons:
  - label: Exit
    action: https://michiganlegalhelp.org/guide-to-legal-help
    new window: True
    color: danger
    icon: right-from-bracket
---
template: help_signing_will
subject: |
  What does this mean?
content: |
  The ${ MLH_interview_short_title } has a set inheritance structure that assumes you want to leave most of your property to your closest relatives. Under the terms of this will, if you are married when you die, your spouse will inherit almost everything you own. If you aren't married when you sign the will, or if your spouse dies before you do, your children will inherit most of your property in equal shares. Your property will be distributed to extended family members if no spouse, children, or descendants survive you.
---
id: force_or_threat
question: |
  Your will must be your free choice
subquestion: |
  Your will is only valid if you create it freely. No one should force or pressure you about what to put in your will.

  It's fine to talk with family and get help, but the decisions must be yours.

  If someone is threatening or pressuring you, consider talking to a lawyer. You can use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) to find a lawyer in your area.

fields:
  - Are you choosing to make this will on your own?: force_or_threat
    datatype: radio
    choices:
      - Yes, this is my choice
      - No, someone is pressuring me
---
id: exit_duress_influence
event: exit_duress_influence
question: |
  It sounds like you may be under duress or improper influence from another person.
subquestion: |
  You may want to contact a lawyer for help. If you are a low-income older adult or otherwise vulnerable, your local legal aid office may be able to help you. You can use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help)  on Michigan Legal Help to find a lawyer or a legal services office near you.

  If you are being abused, neglected, or exploited, you can contact your local Adult Protective Services office at 855-444-3911. If you think you are the victim of a crime by the person who is person who is pressuring you, you can call the police.

  If you think you made a mistake, tap **Undo** and change the answer to this question.
action buttons:
  - label: Exit
    action: https://michiganlegalhelp.org/guide-to-legal-help
    new window: True
    color: danger
    icon: right-from-bracket
---
id: witness_explanation
question: |
  **Warning!** Your will needs to be signed in front of witnesses to be valid
subquestion: |
  This online tool helps you write your will, but the will is not finished when you're done answering the questions in this tool. To finish the process, you must:

  * Print your completed will
  * Sign it in front of witnesses
  * Have the witnesses sign it

  This tool will give step-by-step instructions about finishing your will after you are done answering questions.
continue button field: witness_explanation
---
id: has_existing_will
question: |
  Existing wills
fields:
  - Do you already have a will?: has_existing_will
    datatype: yesnoradio
---
id: replace_existing_will
question: |
  Using this tool to make a new will automatically revokes (cancels) your old will
subquestion: |
  To avoid any confusion, destroy your old will after you sign the new one.

  If you filed your old will with the county probate court, file the new one there in its place. If anyone has a copy of your old will, give them a copy of your updated will and ask for the older version so you can destroy it.

  You can destroy the will by tearing it, shredding it, or writing "void" across each page.
continue button field: replace_existing_will
---
id: has_trust
question: |
  Do you have a {trust}?
subquestion: |
  This could be a living trust, a revocable trust, an irrevocable trust, or any other kind of trust.
fields:
  - Do you have a trust?: has_trust
    datatype: yesnoradio
terms:
  trust: |
    A legal tool where someone holds and manages money or property for someone else. People can use trusts as part of their estate planning to control how property is distributed after they die. A trust can say that property goes to heirs at certain ages or under specific conditions.
---
sets:
  - users[0].name.first
id: user_name
question: |
  What is your name?
fields:
  - code: |
      users[0].name_fields()
---
id: users[0].birthdate
question: |
  When were you born?
fields:
  - Birthdate: users[0].birthdate
    datatype: BirthDate
---
id: emancipated_minor
question: |
  It looks like you are under the age of 18.
fields:
  - Are you an {emancipated minor}?: emancipated_minor
    datatype: yesnoradio
  - note: |
      ${ collapse_template(dob_explanation_template) }
terms:
  emancipated minor: |
    A child under the age of 18 who has been freed from the control of their parents, either by operation of law (for example, by marriage) or by order of a judge. An emancipated minor has some, but not all, of the rights of adults, and may live independently or under the control of others.
---
id: dob_explanation_template
template: dob_explanation_template
subject: Why do you think I am under 18?
content: |
  You entered ${ users[0].birthdate } as your date of birth.

  If this date is wrong, tap **Undo** to change it.
---
id: exit_minor_status
event: exit_minor_status
question: |
  Sorry, you cannot use this tool to create a will.
subquestion: |
  You must be at least 18 years old or an emancipated minor to create a will in Michigan. If you think you made a mistake, tap **Undo** and change the answer to this question.
action buttons:
  - label: Exit
    action: https://michiganlegalhelp.org/guide-to-legal-help
    new window: True
    color: danger
    icon: right-from-bracket
---
id: michigan_resident
question: |
  Your State
fields:
  - Do you live in Michigan?: michigan_resident
    datatype: yesnoradio
---
id: exit_not_michigan_resident
event: exit_not_michigan_resident
question: |
  Sorry, you cannot use this tool if you are not a current Michigan resident.
subquestion: |
  If you think you made a mistake, tap **Undo** and change the answer to this question.
action buttons:
  - label: Exit
    action: https://www.lsc.gov/about-lsc/what-legal-aid/i-need-legal-help
    new window: True
    color: danger
    icon: right-from-bracket
---
id: county_choice
question: |
  Your county
fields:
  - What county do you live in?: county_choice
    code: |
      court_list._load_courts()["address_county"].unique()
---
id: has_spouse
sets:
  - spouse.there_are_any
question: |
  Marriage status
fields:
  - Are you married?: spouse.there_are_any
    datatype: yesnoradio
---
if: spouse.there_are_any
sets:
  - spouse[0].name.first
id: spouse_name
question: |
  What is your spouse's full name?
fields:
  - code: |
      spouse[0].name_fields()
---
code: |
  if not spouse.there_are_any:
      spouse.clear()
---
id: has_children
question: |
  Children
subquestion: |
  **If you have children of any age, they will inherit equal shares of your property using this will.** The only exception is personal items. Later in this tool, you can choose who gets specific things like books, jewelry, clothing, cars, and furniture.

  If you want to exclude a child from your will or want them to inherit unequal shares, you may want to speak to a lawyer. Use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) to find lawyers or legal services in your area.

  "Children" includes all of your legal children, including adopted children and children born outside of marriage.

fields:
  - Do you have living children of any age, including adult children?: children.there_are_any
    datatype: yesnoradio
  - How many living children do you have?: children.target_number
    datatype: integer
    min: 1
    show if: children.there_are_any
---
on change:
  children.there_are_any: |
    if not children.there_are_any:
      invalidate('has_minor_child', 'guardians', 'conservators')
      children.target_number = 0
      children.clear()
---
id: child name
sets:
  - children[i].name.first
question: |
  % if children.target_number < 2:
  Enter your child's full name.
  % else:
  Enter the full name of your ${ ordinal(i) } child.
  % endif
fields:
  - code: |
      children[i].name_fields()
---
id: has_minor_child
question: |
  Minor children
fields:
  - Do you have a child who is under the age of 18?: has_minor_child
    datatype: yesnoradio
---
id: leave_cash_gifts
question: |
  Cash gifts in your will
subquestion: |
  You can leave up to two cash gifts in your will. Each gift goes to one person or charity. You can also give specific personal items (like jewelry or furniture) to as many people as you want - we'll ask about that later.

  **Cash gifts are paid first, before anything goes to your family.** If you end up with less money than expected, this could reduce what your family receives.
fields:
  - Would you like to leave a cash gift to a specific person or charity?: giftee.there_are_any
    datatype: yesnoradio
---
id: giftee_entity_type
question: |
  Cash gift recipient
fields:
  - Is the ${ ordinal(i) } cash gift recipient a person or charity?: giftee[i].entity_type
    datatype: radio
    choices:
      - Person: person
      - Charity: business
---
id: giftee_name
sets:
  - giftee[i].name.first
question: |
  % if giftee[i].entity_type == 'person':
  What is the full name of the person you want to receive the ${ ordinal(i) } cash gift?
  % else:
  What is the name of the charity you want to receive the ${ ordinal(i) } cash gift?
  % endif
fields:
  - Someone previously entered?: giftee[i]
    datatype: object
    disable others: True
    choices: |
      (person for person in children.complete_elements() if person.entity_type == giftee[i].entity_type and person not in giftee.complete_elements())
  - code: |
      giftee[i].name_fields(person_or_business=giftee[i].entity_type)
validation code: |
  giftee[i].address.invalidate_attr("address")
  giftee[i].invalidate_attr("us_address_yn")
  giftee[i].invalidate_attr("gift_amount")
  giftee[i].delattr("complete")
---
id: children_or_giftee_us_address_yn
generic object: ALPeopleList
if: x is children or x is giftee
question: |
  You have named ${ x[i].name } as a cash gift recipient.
fields:
  - Does ${ x[i].name.first } have a U.S. address?: x[i].us_address_yn
    datatype: yesnoradio
validation code: |
  if x[i].us_address_yn:
    x[i].address.country = "US"
  elif not x[i].us_address_yn and x[i].address.attr("country") == "US":
    x[i].address.country = ""
---
id: children_or_giftee_address
generic object: ALPeopleList
if: x is children or x is giftee
sets:
  - x[i].address.address
  - x[i].address.city
  - x[i].address.zip
  - x[i].address.unit
  - x[i].address.state
question: |
  Enter the address for ${ x[i].name.first }.
fields:
  - code: |
      x[i].address_fields(country_code=getattr(x[i].address, "country", "Select"), show_country=x[i].address.attr("country") != "US")
---
id: gift_amount
sets: x[i].gift_amount_in_words
generic object: ALPeopleList
if: x is children or x is giftee
question: |
  Cash gift amount
subquestion: |
  Your cash gift must be a whole dollar amount with no cents included.
fields:
  - How much of your money do you want ${ x[i].name.first } to receive after you die?: x[i].gift_amount
    datatype: currency
validation code: |
  if x[i].gift_amount <= 0:
    validation_error("The cash gift amount must be greater than zero.", field='x[i].gift_amount')
  if int(x[i].gift_amount) != x[i].gift_amount:
    validation_error("You must enter a whole dollar amount with no cents.", field='x[i].gift_amount')
  x[i].gift_amount_in_words = capitalize(nice_number(x[i].gift_amount, use_word=True))
---
id: more giftees
question: |
  Additional cash gifts
fields:
  - Would you like to leave another gift of cash?: giftee.there_is_another
    datatype: yesnoradio
---
code: |
  if giftee.number_gathered() >= 2:
     giftee.there_is_another = False
---
id: tangible_gifts
question: |
  You can leave personal items to anyone you would like
subquestion: |
  You can choose to give specific personal or household items to anyone you wish. This includes things like jewelry, books, clothing, vehicles, appliances, and furniture This does not include land, homes, bank accounts, stocks, or bonds.

  You can create this list now or add it to your will later. It's completely optional. Unlike the rest of your will, this list only needs your signature, not witnesses. If you change your mind later, you can update this list without changing the rest of your will.

  You only need to list items you want to give to specific people. You don't have to include everything you own.
fields:
  - Do you want to make a list of your personal property and who should receive it now?: tangible_property.there_are_any
    datatype: yesnoradio
---
id: list_of_property_receiver
question: |
  Describe the item and who should receive it.
subquestion: |
  Be specific about both the item and the person. For example, say "2015 Honda Civic" instead of "car," or "grandmother's wooden rocking chair" instead of "chair." Use the person's full name, not just "neighbor" or "nephew."

  You can add more items after this one.

  % if tangible_property.number_gathered() > 1:
  So far, you have listed:

  Tangible Personal Property | Recipient
  ------------------------------ | -------------
  % for property in tangible_property.complete_elements():
  ${ property.item } | ${ property.recipient_name }
  % endfor
  % endif
fields:
  - Item: tangible_property[i].item
  - Select previous recipient: tangible_property[i].recipient_name
    disable others:
      - tangible_property[i].recipient_name
    show if:
      code: |
        tangible_property.number_gathered() > 1
    code: |
      set(item.recipient_name for item in tangible_property.complete_elements())
  - Full name of recipient: tangible_property[i].recipient_name
  - note: |
      If the person has a common name or if more information would help identify them, you can add their relationship to you in parentheses. For example, you could enter: John Smith (my son).
---
id: ask_more_items
question: |
  You can add more personal or household items.
subquestion: |
  So far, you have listed:

  Tangible Personal Property | Recipient
  ------------------------------ | -------------
  % for property in tangible_property:
  ${ property.item } | ${ property.recipient_name }
  % endfor
fields:
  - Do you want to add another item?: tangible_property.there_is_another
    datatype: yesnoradio
---
id: blank_list_print
field: blank_list_print
question: |
  A blank list will print with your will.
subquestion: |
  If you decide to leave gifts of your personal property, fill in the list. Be sure to identify the item and the recipient as specifically as possible. Then sign and date the bottom of the list.
---
id: residue_general_explanation
question: |
  Everything else goes to your family
subquestion: |
  % if spouse:
  Everything you own when you die that you haven't already given away in this will is called the "residue" of your estate. This doesn't include property that automatically transfers to someone else when you die (like joint bank accounts or homes with survivorship rights).

  The cash gifts and personal items you listed will be given out first. The rest goes to your spouse if you're married when you die. If you're not married, it goes to your children. If any of your children died before you, but had children who are still living (your grandchildren), they get equal shares of what your child would have inherited.

  If you do not have a spouse, children, or grandchildren, your property goes to other relatives. On the next page, you'll choose how.

  % else:
  Everything you own when you die that you haven't already given away in this will is called the "residue" of your estate. This doesn't include property that automatically transfers to someone else when you die (like joint bank accounts or homes with survivorship rights).

  The cash gifts and personal items you listed will be given out first. If you have children when you die, the rest goes to your children in equal parts. If any of your children die before you but have children who are still living (your grandchildren), they get equal shares of what your child would have inherited.
  If you do not have children or other descendants (grandchildren, great-grandchildren, etc.) when you die, your property goes to other relatives in this order:

  * Your parents, or if they're gone, your siblings, nieces, and nephews
  * If none of those survive, your grandparents, or if they're gone, your aunts, uncles, and cousins

  If no relatives can be found, your property goes to the state of Michigan.

  % endif
continue button field: residue_general_explanation
---
id: residue_distribution
question: |
  If you have no surviving spouse, children, or grandchildren
subquestion: |
  If you do not have a spouse, children, or other descendants (grandchildren, great-grandchildren, etc) when you die, your property goes to other relatives in this order:
 
  * Your parents, or if theyâ€™re gone, your siblings, nieces, and nephews
  * If none of those survive, your grandparents, or if theyâ€™re gone, your aunts, uncles, and cousins

  If no relatives can be found, your property goes to the state of Michigan.

  You can also choose to give half of the property to your spouseâ€™s relatives in the same order: first to their children, then to their parents, siblings, nieces and nephews, then to their grandparents, aunts, uncles, and cousins.

  You have two choices for how to distribute your property:

  * **Option 1:** Give everything to your relatives.
  
  * **Option 2:** Split everything evenly between your relatives and your spouseâ€™s relatives (who inherit in the same order). Note: If you have stepchildren, this is the only way they can inherit using this will except, by leaving them cash gifts or specific personal property items in the sections youâ€™ve already filled out.

fields:
  - How do you want your property distributed?: residue_distribution
    datatype: radio
    choices:
      - Give everything to my relatives: own_heirs
      - Split evenly between my relatives and my spouse's relatives: own_heirs_and_spouse_heirs
---
id: personal_representatives
question: |
  Choose your personal representative
subquestion: |
  Your personal representative handles your affairs after you die. They must be 18 or older. You should pick someone who is organized and trustworthy. Most people choose a family member or close friend. You can also name a bank, but they charge fees.

  Before you decide:

  * Ask if they're willing to serve
  * Consider choosing someone in or near Michigan since they'll handle tasks here

  You can name a backup personal representative in case your first choice isn't available.
continue button field: personal_representatives
---
id: representative_entity_type
question: |
  Personal representatives
fields:
  - Is your ${ ordinal(i) } personal representative a person or a bank?: representatives[i].entity_type
    datatype: radio
    choices:
      - Person: person
      - Bank: business
---
sets:
  - representatives[i].name.first
id: person_or_bank_detail
question: |
  % if representatives[i].entity_type == 'person':
  Enter the full name of the person you want to be your ${ ordinal(i) } personal representative.
  % else:
  Enter the name of the bank you want to be your ${ ordinal(i) } personal representative.
  % endif
fields:
  - Someone previously entered?: representatives[i]
    datatype: object
    disable others: True
    choices: |
      (person for person in (*guardians.complete_elements(), *conservators.complete_elements()) if person.entity_type == representatives[i].entity_type and person not in representatives.complete_elements())
  - code: |
      representatives[i].name_fields(person_or_business=representatives[i].entity_type)
---
sets:
  - representatives[i].address.address
  - representatives[i].address.city
  - representatives[i].address.zip
  - representatives[i].address.unit
  - representatives[i].address.state
id: representatives_address
question: |
  Enter ${ representatives[i].name.first }'s address.
fields:
  - code: |
      representatives[i].address_fields(country_code=AL_DEFAULT_COUNTRY, default_state=AL_DEFAULT_STATE)
---
question: |
  Alternate personal representative
subquestion: |
  It's a good idea to name a second choice for your personal representative, in case your first choice isn't able to do it.
fields:
  - Do you want to enter a second choice for personal representative?: representatives.there_is_another
    datatype: yesnoradio
---
code: |
  if representatives.number_gathered() >= 2:
     representatives.there_is_another = False
---
id: guardians_explanation
question: |
  You can choose a guardian for your minor children
subquestion: |
  You can name a guardian to care for your children under 18 if you die.

  Your children's other parent will likely get custody if they're alive and able to care for them. Your chosen guardian would only take over if the other parent dies first, has lost parental rights, or cannot care for the children.
continue button field: guardians_explanation
---
id: appoint_guardian
question: |
  Guardians
subquestion: |
  Ask the person you choose if they're willing to be guardian before you make your final decision.

  This will names one guardian for all your children. If you want different guardians for different children, you'll need to work with a lawyer instead of using this tool. Use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) to find a lawyer in your area.
  
fields:
  - Do you want to name a guardian?: guardians.there_are_any
    datatype: yesnoradio
---
id: guardians_name
sets:
  - guardians[i].name.first
question: |
  Enter the full name of the person you would like to be the ${ ordinal(i) } guardian for your child.
fields:
  - Someone previously entered?: guardians[i]
    datatype: object
    disable others: True
    choices: |
      (person for person in (*representatives.complete_elements(), *conservators.complete_elements()) if person.entity_type == 'person' and person not in guardians.complete_elements())
  - code: |
      guardians[i].name_fields()
---
id: guardians_address
sets:
  - guardians[i].address.address
  - guardians[i].address.city
  - guardians[i].address.zip
  - guardians[i].address.unit
  - guardians[i].address.state
question: |
  Enter ${ guardians[i].name.first }'s address.
fields:
  - code: |
      guardians[i].address_fields(country_code=AL_DEFAULT_COUNTRY, default_state=AL_DEFAULT_STATE)
---
question: |
  Alternate guardian
subquestion: |
  It's a good idea to name a second choice, in case your first choice isn't able to be the guardian.
fields:
  - Do you want to add a second guardian?: guardians.there_is_another
    datatype: yesnoradio
---
code: |
  if guardians.number_gathered() >= 2:
     guardians.there_is_another = False
---
id: guardian_warning
question: |
  **Warning!**
subquestion: |
  If you later decide to name a guardian, you can include that person's name only by making a new will. Adding or crossing out any words on the statutory will form may make it invalid.
continue button field: guardian_warning
---
id: appoint_conservator
question: |
  You can choose a conservator to manage your children's money
subquestion: |
  You can name a conservator to handle money and property for your children.

  Ask the person if they're willing to be a conservator before making your final choice. You can also choose a bank, but banks charge fees for this service.
  
fields:
  - Do you want to name a conservator?: conservators.there_are_any
    datatype: yesnoradio
---
id: conservator_entity_type
question: |
  Choose your ${ ordinal(i) } conservator.
fields:
  - Is your conservator a person or a bank?: conservators[i].entity_type
    datatype: radio
    choices:
      - Person: person
      - Bank: business
---
id: conservators_detail
sets:
  - conservators[i].name.first
question: |
  % if conservators[i].entity_type == 'person':
  Enter the full name of the person you want to be your conservator.
  % else:
  Enter the name of the bank you want to be your conservator.
  % endif
fields:
  - Someone previously entered?: conservators[i]
    datatype: object
    disable others: True
    choices: |
      (person for person in (*representatives.complete_elements(), *guardians.complete_elements()) if person.entity_type == conservators[i].entity_type and person not in conservators.complete_elements())
  - code: |
      conservators[i].name_fields(person_or_business=conservators[i].entity_type)
---
id: conservators_address
sets:
  - conservators[i].address.address
  - conservators[i].address.city
  - conservators[i].address.zip
  - conservators[i].address.unit
  - conservators[i].address.state
question: |
  Enter ${ conservators[i].name.first }'s address.
fields:
  - code: |
      conservators[i].address_fields(country_code=AL_DEFAULT_COUNTRY, default_state=AL_DEFAULT_STATE)
---
id: conservators_other
question: |
  Alternate conservator
subquestion: |
  It's a good idea to name a second choice, in case your first choice isn't able to be the conservator.
fields:
  - Do you want to include a second conservator?: conservators.there_is_another
    datatype: yesnoradio
---
code: |
  if conservators.number_gathered() >= 2:
     conservators.there_is_another = False
---
id: conservators_warning
question: |
  **Warning!**
subquestion: |
  If you later decide to name a conservator, you can include that person's name only by making a new will. Adding or crossing out any words on the statutory will form may make it invalid.
continue button field: conservators_warning
---
id: require_bond
question: |
  Do you want to require a bond?
subquestion: |
  Bond is like insurance that protects your family if your personal representative or conservator steals or mismanages money from your estate. If you require a bond, your personal representative or conservator will use money from your estate to pay a bond company for this insurance as part of the probate court case after you die. The fee is not returnedâ€“ this is the cost for protection.

  **You might want a bond if:**

  * Your estate has a lot of money or valuable property
  * You're worried about the people you chose as personal representative or conservator
  * You want extra peace of mind for your family

  **You might not want a bond if:**

  * You completely trust your personal representative and conservator
  * Your estate is small
  * You don't want to reduce what your family inherits by the bond cost
fields:
  - Do you want to require a bond?: require_bond
    datatype: yesnoradio
---
if: not user_logged_in()
id: will saving answers logged out
question: |
  Saving your answers
subquestion: |
  You can save your answers so that you can come back to this tool later. This will allow you to make changes to your ${ MLH_form_type } without starting over.

  Below the Continue button, tap "Sign in" if you have an account or "Sign up" to make one. You can also go to the ${ ':bars:' if device().is_mobile else '' } Menu at the top of the screen and tap "Sign in or sign up to save answers".

  Warning! If you do not save your answers and you later discover a mistake in your printed will, you will have to restart this tool from the beginning and enter all of your answers again. Remember, crossing out or adding words to your printed will may make it invalid.
continue button field: MLH_outro_saving_answers
progress: 99
---
objects:
  - michigan_statutory_will_document: ALDocument.using(title="Statutory Will", filename=f"Michigan Statutory Will for {str(users).replace('.', '')}.docx", enabled=True, has_addendum=False, default_overflow_message=" (Continued in Attachment)")
  - michigan_statutory_will_instructions: ALDocument.using(title="Instructions", filename="Michigan Statutory Will Instructions.docx", enabled=True, has_addendum=False)
  - al_user_bundle: ALDocumentBundle.using(elements=[michigan_statutory_will_instructions, michigan_statutory_will_document], filename="Michigan Statutory Will and Instructions", title="Will and instructions", enabled=True)
---
attachments:
  - name: Michigan Statutory Will for ${users}
    variable name: michigan_statutory_will_document[i]
    docx template file: michigan_statutory_will.docx
    tagged pdf: True
    refresh: True
  - name: Statutory Will Instructions
    variable name: michigan_statutory_will_instructions[i]
    docx template file: michigan_statutory_will_instructions.docx
    tagged pdf: True
---
id: DownloadScreen
event: MLH_download
question: |
  Download and sign your will
subquestion: |
  **Warning! Your will is not finished yet.** Completing this tool did not create a valid will. You must print your will and sign it in front of witnesses.
  
  You can **view**, **download**, or **e-mail** your ${ MLH_form_type } to yourself below. Tap the "âœŽ Review / Edit" button to fix any mistakes.

  <h2 class="h3">Download or e-mail your ${ MLH_form_type }</h2>

  ${ action_button_html(url_action('review_full'), label='âœŽ Review / Edit', color='info') }

  ${ al_user_bundle.download_list_html() }

  ${ al_user_bundle.send_button_html(show_editable_checkbox=False) }

  <h2 class="h3">Take our quick survey!</h2>
  Answer below or [open the survey in a new tab](${ survey_link_url_only }).
  ${ survey_embed_script }
progress: 100
---
# -----------------------------------------------------------------------------
## review
# -----------------------------------------------------------------------------
---
id: review_full
event: review_full
question: |
  Review your answers
review:
  - Edit: |
      users[0].name.first
    button: |
      **What is your name?**

      - ${ users[0] }
  - Edit: |
      users[0].birthdate
    button: |
      **What is your date of birth?**

      - ${ users[0].birthdate }
  - Edit: |
      county_choice
    button: |
      **What county do you live in?**

      - ${ county_choice }
  - Edit: 
      - spouse.there_are_any
      - recompute:
          - reset_spouse
    button: |
      **Are you married?**

      - ${ word(yesno(spouse.there_are_any)) }
  - Edit: |
      spouse[0].name.first
    button: |
      **What is your spouse's name?**

      % if spouse:
        - ${ spouse[0] }
      % endif
  - Edit: 
      - children.there_are_any
      - recompute:
          - reset_children
    button: |
      **Do you have any living children?**

      - ${ word(yesno(children.there_are_any)) }
  - Edit: |
      children.revisit
    button: |
      **Children**

      % if children:
        % for item in children:
        - ${ item }
        % endfor
      % else:
      - ${ word("None") }
      % endif
  - Edit: 
      - has_minor_child
      - invalidate:
          - guardians
          - conservators
    button: |
      **Do you have a child who is under the age of 18?**

      - ${ word(yesno(has_minor_child)) }
  - Edit: |
      giftee.revisit
    button: |
      **Cash gift recipients**

      % if giftee:
      % for item in giftee:
      - ${ item }
          - ${ item.address.on_one_line() }
      % endfor
      % else:
      - ${ word("None") }
      % endif
  - Edit: |
      tangible_property.revisit
    button: |-
      **Tangible Property**

      % if tangible_property:
      % for item in tangible_property:
      - ${ item.item } &#x2192; ${ item.recipient_name }
      
      % endfor
      % else:
      - ${ word("None") }
      % endif
  - Edit: |
      residue_distribution
    button: |
      **Residue distribution**

      How do you want your property distributed?

      % if residue_distribution == 'own_heirs':
      - Give everything to my relatives
      % else:
      - Split evenly between my relatives and my spouse's relatives
      % endif
  - Edit: |
      representatives.revisit
    button: |
      **Personal representatives**

      % if representatives:
      % for item in representatives:
      - ${ item }
          - ${ item.address.on_one_line() }
      % endfor
      % else:
      ${ word("None") }
      % endif
  - Edit: |
      guardians.revisit
    button: |
      **Guardians**

      % if guardians:
      % for item in guardians:
      - ${ item }
          - ${ item.address.on_one_line() }
      % endfor
      % else:
      ${ word("None") }
      % endif
  - Edit: |
      conservators.revisit
    button: |
      **Conservators**

      % if conservators:
      % for item in conservators:
      - ${ item }
          - ${ item.address.on_one_line() }
      % endfor
      % else:
      ${ word("None") }
      % endif
  - Edit: |
      require_bond
    button: |
      **Would you like to require a bond?**

      - ${ word(yesno(require_bond)) }
---
id: revisit list tangible_property
continue button field: tangible_property.revisit
question: |
  Edit your answers about your personal property
subquestion: |
  ${ tangible_property.table }

  ${ tangible_property.add_action() }
---
table: tangible_property.table
rows: tangible_property
columns:
  - Item: row_item.item
  - Full name of recipient: row_item.recipient_name
edit:
  - item
  - recipient_name
show incomplete: True
confirm: True
---
generic object: ALPeopleList
id: revisit list
continue button field: x.revisit
question: |
  Edit your answers about your ${ x.instanceName }
subquestion: |
  ${ x.table }

  % if x is children or x.number() < 2:
  ${ x.add_action() }
  % endif
---
table: children.table
rows: children
columns:
  - Name: row_item.name
edit:
  - name.first
show incomplete: True
confirm: True
---
table: giftee.table
rows: giftee
columns:
  - Name: f'{row_item.name} {("(Child)" if row_item in children else "")}'
  - Address: row_item.address.on_one_line()
  - Gift Amount: currency(row_item.gift_amount)
edit:
  - entity_type
  - name.first
  - us_address_yn
  - address.address
  - gift_amount
show incomplete: True
confirm: True
---
table: representatives.table
rows: representatives
columns:
  - Name: row_item.name
  - Address: row_item.address.on_one_line()
edit:
  - entity_type
  - name.first
  - address.address
show incomplete: True
confirm: True
---
table: guardians.table
rows: guardians
columns:
  - Name: row_item.name
  - Address: row_item.address.on_one_line()
edit:
  - name.first
  - address.address
show incomplete: True
confirm: True
---
table: conservators.table
rows: conservators
columns:
  - Name: row_item.name
  - Address: row_item.address.on_one_line()
edit:
  - entity_type
  - name.first
  - address.address
show incomplete: True
confirm: True
---