---
include:
  - docassemble.AssemblyLine:assembly_line.yml
  - docassemble.ALAnyState:any_state.yml
  - docassemble.mlhframework:mlh_interview_framework.yml
  - docassemble.ALToolbox:collapse_template.yml
---
metadata:
  title: Michigan Statutory Will
  short title: Michigan Statutory Will
  subtitle: Helps you figure out if the Michigan Statutory Will is right for you.
  description: |
    This tool will help you figure out if the Michigan Statutory Will is right for you and, if so, help you prepare one.
  tags:
    - "Family"
    - "Domicile"
  authors:
    - Pratibha Bharti
    - Anshuman Tiwari
    - Kelly McGuire
---
code:  |
  github_repo_name = 'docassemble-MLHStatutoryWill' if get_config('debug') else 'docassemble-UserFeedback'
---
features:
  labels above fields: True
---
sections:
  - signpost_intro: "Introduction"
  - signpost_qualify: "Do you qualify?"
  - signpost_user: "Your Information"
  - signpost_family: "Your Family"
  - signpost_cash_gifts: "Cash Gifts"
  - signpost_goods: "Personal and Household Items"
  - signpost_residue: "Residue"
  - signpost_representatives: "Personal Representatives"
  - signpost_guardians: "Guardians"
  - signpost_conservators: "Conservators"
  - signpost_bond: "Bond"
  - signpost_done: "Done"
  - review_full: "âœŽ <u>Review / Edit</u>"
---
code: |
  survey_link_url_only = "https://www.surveymonkey.com/EXAMPLE_URL"
---
template: survey_embed_script
content: |
  <script>
    UNIQUE SCRIPT GOES HERE
  </script>
---
# set intro landing screen variables
code: |
  MLH_form_type = "will"
  MLH_time_min = 15
  MLH_time_max = 30
---
comment: |
  resource_page_url_only needs to be updated once Emily sends the correct link
code: |
  resource_page_url_only = "https://michiganlegalhelp.org/node/1083"
  resource_page_name = MLH_interview_short_title
---
# -----------------------------------------------------------------------------
## interview block
# -----------------------------------------------------------------------------
---
id: interview_order_michigan_statutory_will
mandatory: True
scan for variables: False
code: |
  nav.set_section("review_full")
  nav.set_section("signpost_intro")
  MLH_intro_agree_no_pii = True
  MLH_standard_intro_pages
  intro_tool_fit
  if intro_tool_about == 'Exit':
    command('leave', url='https://michiganlegalhelp.org/guide-to-legal-help', new_window=True)
  intro_personal_representative

  nav.set_section("signpost_qualify")
  mental_capacity_explanation

  if not (
    know_what_you_own
    and closest_relatives
    and understands_making_a_will
    and understands_signing_a_will
    and force_or_threat
  ):
    if exit_or_undo == 'Exit':
      command('leave', url='https://michiganlegalhelp.org/guide-to-legal-help', new_window=True)

  if (
    was_pressured
    or was_coerced
  ):
    if go_back_and_change == 'Exit':
      command('leave', url='https://michiganlegalhelp.org/guide-to-legal-help', new_window=True)

  witness_explanation
  if has_complicated_situations:
    if complicated_warning == 'Exit':
      command('leave', url='https://michiganlegalhelp.org/guide-to-legal-help', new_window=True)
  if has_existing_will:
    if replace_existing_will == 'change_one':
      if undo_and_change == 'Exit':
        command('leave', url='https://michiganlegalhelp.org/guide-to-legal-help', new_window=True)
  if has_trust:
    if undo_and_change == 'Exit':
      command('leave', url='https://michiganlegalhelp.org/guide-to-legal-help', new_window=True)
  if has_large_estate:
    continue_with_large_estate
    if not continue_with_large_estate:
      command('leave', url='https://michiganlegalhelp.org/organizations-and-courts/find-lawyer', new_window=True)

  nav.set_section("signpost_user")
  users.number()
  users[0].dob
  if difference < 18:
    emancipated_minor
    if not emancipated_minor:
      if user_minor_status == 'Exit':
        command('leave', url='https://michiganlegalhelp.org', new_window=True)
  if not user_state:
    think_and_change
    if think_and_change == 'Exit':
      command('leave', url='https://michiganlegalhelp.org/', new_window=True)
  county_choice

  nav.set_section("signpost_family")
  spouse.number()
  if children.there_are_any and children.gather(children.target_number):
    has_minor_child

  nav.set_section("signpost_cash_gifts")
  giftee.number()

  nav.set_section("signpost_goods")
  tangible_gifts
  if not tangible_property.number():
    blank_list_print

  nav.set_section("signpost_residue")
  residue_general_explanation
  residue_heirs_explanation
  residue_distribution_explanation
  residue_distribution

  nav.set_section("signpost_representatives")
  personal_representatives
  representatives.number()

  nav.set_section("signpost_guardians")
  if children and has_minor_child:
    guardians_explanation
    if not guardians.number():
      guardian_warning

  nav.set_section("signpost_conservators")
  if children and has_minor_child:
    if not conservators.number():
      conservators_warning

  nav.set_section("signpost_bond")
  require_bond

  nav.set_section("signpost_done")
  MLH_outro_saving_answers
  MLH_download
---
# -----------------------------------------------------------------------------
## objects
# -----------------------------------------------------------------------------
---
objects:
  - users: ALPeopleList.using(
      there_are_any=True,
      there_is_another=False,
      target_number=1,
      complete_attribute="complete",
      )
  - spouse: ALPeopleList.using(
      there_is_another=False,
      target_number=1,
      complete_attribute="complete",
      )
  - children: ALPeopleList.using(
      complete_attribute="complete",
      )
  - giftee: ALPeopleList.using(
      target_number=1,
      complete_attribute="complete",
      )
  - tangible_property: DAList.using(
      object_type=DAObject,
      complete_attribute="complete",
      )
  - representatives: ALPeopleList.using(
      there_are_any=True,
      target_number=1,
      complete_attribute="complete",
      )
  - guardians: ALPeopleList.using(
      target_number=1,
      complete_attribute="complete",
      )
  - conservators: ALPeopleList.using(
      target_number=1,
      complete_attribute="complete",
      )
---
generic object: ALIndividual
code: |
  x.name.first
  x.complete = True
---
code: |
  children[i].entity_type = 'person'
  children[i].name.first
  if children[i] in giftee.elements:
    children[i].us_address
    children[i].address.address
    children[i].gift_amount
  children[i].complete = True
---
code: |
  giftee[i].entity_type
  giftee[i].name.first
  giftee[i].us_address
  giftee[i].address.address
  giftee[i].gift_amount
  giftee[i].complete = True
---
code: |
  tangible_property[i].item
  tangible_property[i].recipient_name
  tangible_property[i].complete = True
---
code: |
  representatives[i].entity_type
  representatives[i].name.first
  representatives[i].address.address
  representatives[i].complete = True
---
code: |
  guardians[i].entity_type = 'person'
  guardians[i].name.first
  guardians[i].address.address
  guardians[i].complete = True
---
code: |
  conservators[i].entity_type
  conservators[i].name.first
  conservators[i].address.address
  conservators[i].complete = True
---
# -----------------------------------------------------------------------------
## questions
# -----------------------------------------------------------------------------
---
template: MLH_welcome_message
content: |
  Welcome to the ${ MLH_interview_short_title } tool.

  This tool will help you figure out if the ${ MLH_interview_short_title } is right for you and, if so, help you prepare one. You will be asked questions about you, your family, and your property.
---
id: intro_tool_fit
question: |
  There are many types of wills you can prepare.
subquestion: |
  The ${ MLH_interview_short_title } is a simple will. Use this tool to create a ${ MLH_interview_short_title }.

  This tool is not right for you if you:

  - are under 18 years old
  - do not live in Michigan
  - want to leave any single piece of property to more than one person
  - want to name different guardians for each of your minor children
  - are a Native American whose estate may include trust lands

  Tap **Continue** to begin
continue button field: intro_tool_fit
---
id: intro_tool_about
question: |
  About the ${ MLH_interview_short_title }
subquestion: |
  The ${ MLH_interview_short_title } has a set inheritance structure that assumes you want to leave most of your property to your closest relatives.

  Under the terms of this will, if you are married when you die, your spouse will inherit almost everything you own.

  If you aren't married when you sign the will, or if your spouse dies before you do, your children will inherit most of your property in equal shares.

  Your property will be distributed to extended family members if no spouse, children, or descendants survive you.

  If you want more flexibility in distributing your property, you may want to talk to a lawyer to help you with your will. Use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help)  to find lawyers or legal services in your area.  If you wish to continue, tap **Continue**, otherwise tap **Exit.**
field: intro_tool_about
buttons:
  - Continue
  - label: Exit
    value: Exit
    color: danger
---
id: intro_personal_representative
question: |
  Personal representatives
subquestion: |
  You will be asked to name a **personal representative** for your estate. Your personal representative is the person who will make sure your property is distributed according to your wishes.

  This should be a responsible person that you trust, and ideally someone who lives close to you.
  It could also be a bank. Make your choice before you begin. It's a good idea to ask the person if they are willing and able to serve as personal representative before you make a final choice.

  If you have children under 18, you will also be asked to name a **guardian** to care for them and a **conservator** to manage their money. Again, make your choices and get their contact information before you begin.
continue button field: intro_personal_representative
---
id: mental_capacity_explanation
question: |
  Ability to make a will
subquestion: |
  To make a valid will, you must have the mental capacity to do so. This is also known as being of sound mind.
continue button field: mental_capacity_explanation
---
id: know_what_you_own
question: |
  What you own and its value
fields:
  - Do you know what you own and about how much it is worth?: know_what_you_own
    datatype: yesnoradio
---
id: closest_relatives
question: |
  Your relatives
fields:
  - Can you name your closest relatives, such as your spouse and children?: closest_relatives
    datatype: yesnoradio
---
id: exit_or_undo
field: exit_or_undo
question: |
  Sorry, you may not be able to create a valid will.
subquestion: |
  You may want to contact a lawyer for help. You can use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) on Michigan Legal Help to find a lawyer or a legal services office near you. If you think you made a mistake, tap **Undo** and change the answer to this question.
buttons:
  - Exit
---
id: understands_making_a_will
question: |
  The purpose of a will
fields:
  - Do you understand that making a will means planning to distribute your property after your death?: understands_making_a_will
    datatype: yesnoradio
---
id: understands_signing_a_will
question: |
  Signing a will
subquestion: |
  ${ collapse_template(help_signing_will) }
fields:
  - Do you understand generally the effect of signing a will?: understands_signing_a_will
    datatype: yesnoradio
---
template: help_signing_will
subject: |
  What does this mean?
content: |
  The ${ MLH_interview_short_title } has a set inheritance structure that assumes you want to leave most of your property to your closest relatives. Under the terms of this will, if you are married when you die, your spouse will inherit almost everything you own. If you aren't married when you sign the will, or if your spouse dies before you do, your children will inherit most of your property in equal shares. Your property will be distributed to extended family members if no spouse, children, or descendants survive you.
---
id: force_or_threat
question: |
  Your free choice
subquestion: |
  A will is not valid if it was made under duress (by force or threats) or the improper influence of another person.

  The decision to make a will should be your free choice.
continue button field: force_or_threat
---
id: was_pressured
question: |
  Outside pressure
fields:
  - Has anyone told you what to put in your will?: was_pressured
    datatype: yesnoradio
---
id: go_back_and_change
field: go_back_and_change
question: |
  Sorry, it sounds like you may be under duress or improper influence from another person.
subquestion: |
  You may want to contact a lawyer for help. If you are a low-income older adult or otherwise vulnerable, your local legal aid office may be able to help you. You can use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help)  on Michigan Legal Help to find a lawyer or a legal services office near you.

  If you are being abused, neglected, or exploited, you can contact your local Adult Protective Services office at 855-444-3911. If you think you are the victim of a crime by the person who is person who is pressuring you, you can call the police.

  If you think you made a mistake, tap **Undo** and change the answer to this question.
buttons:
  - Exit
---
id: was_coerced
question: |
  Creating a will is your choice.
fields:
  - Has anyone threatened, coerced, or pressured you into preparing a will against your free choice?: was_coerced
    datatype: yesnoradio
---
id: witness_explanation
question: |
  **Warning!**
subquestion: |
  Your will is not valid until it is signed by witnesses. Before they sign, the witnesses must determine whether you made the will freely. If any interested parties suspect after your death that the will was made under conditions of duress, fraud, or improper influence, it can be challenged in court. Your witnesses will be asked to testify.
continue button field: witness_explanation
---
id: has_complicated_situations
question: |
  A statutory will is not right for every situation.
subquestion: |
  The statutory will is a simple but effective will.

  Some situations might be too complicated for a statutory will.

  **Think about the following statements:**

  - I have a child from a relationship with someone other than my current spouse.
  - I want my property to go to non relatives after I die.
  - I don't want my children to inherit equally.
  - I have a child with special needs.
  - I own a business.
fields:
  - Are any of these statements true for you?: has_complicated_situations
    datatype: yesnoradio
---
id: complicated_warning
field: complicated_warning
question: |
  **Warning!**
subquestion: |
  It sounds like your situation is a little complicated. You can still use the statutory will, but it may not meet all your needs. You may want to get specialized estate planning advice from a lawyer.

  If you have a low income and are over 60 years old, your local legal aid office may be able to help you. You can use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) on Michigan Legal Help to find a lawyer or a legal services office near you.
buttons:
  - Continue
  - Exit
---
id: has_existing_will
question: |
  Existing wills.
fields:
  - Do you already have a will?: has_existing_will
    datatype: yesnoradio
---
id: replace_existing_will
question: |
  You can replace your existing will with a new ${ MLH_interview_short_title }.
subquestion: |
  To be sure your new will replaces your existing will, after your new will is signed and witnessed, destroy the old one or write "Void" on every page. If you filed your old will with your county probate court, file the new one there. If anyone is holding a copy of your old will, give them updated copies and ask them to destroy the old copies.
fields:
  - What do you want to do?: replace_existing_will
    datatype: radio
    choices:
      - Replace my existing will with a new ${ MLH_interview_short_title }: replace_one
      - Change my existing will: change_one
---
id: undo_and_change
field: undo_and_change
question: |
  Sorry, this tool cannot help you add to or change an existing will.
subquestion: |
  You may want to contact a lawyer for help. You can use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) on Michigan Legal Help to find a lawyer or a legal services office near you.

  If you think you made a mistake, tap **Undo** and change the answer to this question.
buttons:
  - Exit
---
id: has_trust
question: |
  Do you have a trust?
subquestion: |
  This could be a living trust, a revocable trust, an irrevocable trust, or any other kind of trust.
fields:
  - Do you have a trust?: has_trust
    datatype: yesnoradio
---
id: has_large_estate
question: |
  Think about your estate.
subquestion: |
  Think about your real estate, personal property, retirement plan benefits, investments such as stocks and bonds, or life insurance.
fields:
  - Do you have a large amount of property in your estate?: has_large_estate
    datatype: yesnoradio
---
id: continue_with_large_estate
question: |
  **Warning!**
subquestion: |
  You may want to talk with a lawyer before making a will if you have a large amount of property. You can use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) on Michigan Legal Help to find a lawyer or a legal services office near you
fields:
  - Do you want to continue making a ${ MLH_interview_short_title }?: continue_with_large_estate
    datatype: yesnoradio
---
sets:
  - users[0].name.first
id: user_name
question: |
  What is your name?
fields:
  - code: |
      users[0].name_fields()
---
id: users[0].dob
field: users[0].dob
question: |
  What is your date of birth?
fields:
  - Date: users[0].dob
    datatype: date
---
code: |
  from datetime import date
  from dateutil.relativedelta import relativedelta
  date1 = users[0].dob
  date2 = today()
  date3 = users[0].dob + relativedelta(years=18)
  difference = date2.year - date1.year - ((date2.month, date2.day) < (date1.month, date1.day))
---
id: emancipated_minor
question: |
  It looks like you are under the age of 18.
fields:
  - Are you an emancipated minor?: emancipated_minor
    datatype: yesnoradio
under: ${ collapse_template(dob_explanation_template) }
---
id: dob_explanation_template
template: dob_explanation_template
subject: Why do you think I am under 18?
content: |
  You entered ${ users[0].dob } as your date of birth.

  If this date is wrong, tap **Undo** to change it.
---
id: user_minor_status
field: user_minor_status
question: |
  Sorry, you cannot use this tool to create a will.
subquestion: |
  You must be at least 18 years old or an emancipated minor to create a will in Michigan. If you think you made a mistake, tap **Undo** and change the answer to this question.
buttons:
  - Exit
---
id: user_state
question: |
  Your State
fields:
  - Do you live in Michigan?: user_state
    datatype: yesnoradio
---
id: county_choice
question: |
  Your county
fields:
  - What county do you live in?: county_choice
    code: |
      court_list._load_courts()["address_county"].unique()
---
id: think_and_change
field: think_and_change
question: |
  Sorry, you cannot use this tool if you are not a current Michigan resident.
subquestion: |
  If you think you made a mistake, tap **Undo** and change the answer to this question.
buttons:
  - Exit
---
id: has_spouse
question: |
  Marriage status
fields:
  - Are you married?: spouse.there_are_any
    datatype: yesnoradio
---
sets:
  - spouse[0].name.first
id: spouse_name
question: |
  What is your spouse's full name?
fields:
  - code: |
      spouse[0].name_fields()
---
id: has_children
question: |
  Children
subquestion: |
  For the purposes of the statutory will, "your children" means those born to you both within and outside of marriage, and children you legally adopted.

  Under the statutory will, all your children will inherit **equal** shares.

  If you want to exclude one or more children from your will or want your children to inherit **unequal** shares, this tool cannot help you do that. You may want to contact a lawyer to help you with your will. Use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help)  to find lawyers or legal services in your area.
fields:
  - Do you have any living children?: children.there_are_any
    datatype: yesnoradio
  - How many living children do you have?: children.target_number
    datatype: integer
    min: 1
    show if: children.there_are_any
---
id: child name
sets:
  - children[i].name.first
question: |
  % if children.target_number < 2:
  Enter your child's full name.
  % else:
  Enter the full name of your ${ ordinal(i) } child.
  % endif
fields:
  - code: |
      children[i].name_fields()
---
id: has_minor_child
question: |
  Minor children
fields:
  - Do you have a child who is under the age of 18?: has_minor_child
    datatype: yesnoradio
---
id: leave_cash_gifts
question: |
  You can leave up to two gifts of cash in your will.
subquestion: |
  Think carefully about whether to leave cash gifts. These cash gifts will be paid "off the top" of your estate no matter how much money you have when you die. For example, you may decide today to leave $5,000 to a friend or charity, and the rest of your estate to your children. You may then end up spending all but $4,000 of your savings before you die. In that case, the friend or charity would receive the $4,000, and your children would receive nothing.

  Each gift can be left to one person or charity. If you want to leave more than two cash gifts, or any cash gift jointly to more than one person, you can't use this tool or the statutory will to do so. You may want to contact a lawyer to help you with your will. Use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) to find lawyers or legal services in your area.
fields:
  - Would you like to leave a cash gift?: giftee.there_are_any
    datatype: yesnoradio
---
id: giftee_entity_type
question: |
  Cash gift recipient
fields:
  - Is the ${ ordinal(i) } cash gift recipient a person or charity?: giftee[i].entity_type
    datatype: radio
    choices:
      - Person: person
      - Charity: business
---
id: giftee_name
sets:
  - giftee[i].name.first
question: |
  % if giftee[i].entity_type == 'person':
  What is the full name of the person you want to receive the ${ ordinal(i) } cash gift?
  % else:
  What is the name of the charity you want to receive the ${ ordinal(i) } cash gift?
  % endif
fields:
  - Someone previously entered?: giftee[i]
    datatype: object
    disable others: True
    choices: |
      (person for person in children.complete_elements() if person.entity_type == giftee[i].entity_type and person not in giftee.complete_elements())
  - code: |
      giftee[i].name_fields(person_or_business=giftee[i].entity_type)
validation code: |
  giftee[i].address.invalidate_attr("address")
  giftee[i].invalidate_attr("us_address")
  giftee[i].invalidate_attr("gift_amount")
  giftee[i].delattr("complete")
---
id: us_address
generic object: ALPeopleList
if: x is children or x is giftee
question: |
  You have named ${ x[i].name } as a cash gift recipient.
fields:
  - Does ${ x[i].name.first } have a U.S. address?: x[i].us_address
    datatype: yesnoradio
---
generic object: ALPeopleList
if: x is children or x is giftee
sets:
  - x[i].address.address
  - x[i].address.city
id: gift_address_intl
question: |
  Enter the address for ${ x[i].name.first }.
fields:
  - Street Address: x[i].address.address
  - City, State/Province, Postal Code, Country: x[i].address.city
---
generic object: ALPeopleList
if: (x is children or x is giftee) and x[i].us_address
sets:
  - x[i].address.address
  - x[i].address.city
  - x[i].address.zip
  - x[i].address.unit
  - x[i].address.state
id: gift_address_us
question: |
  Enter the address for ${ x[i].name.first }.
fields:
  - code: |
      x[i].address_fields(country_code=AL_DEFAULT_COUNTRY, default_state=AL_DEFAULT_STATE)
---
sets: x[i].gift_amount_in_words
id: gift_amount
generic object: ALPeopleList
if: x is children or x is giftee
question: |
  Cash gift amount
subquestion: |
  Your cash gift must be a whole dollar amount with no cents included.
fields:
  - How much of your money do you want ${ x[i].name.first } to receive after you die?: x[i].gift_amount
    datatype: currency
validation code: |
  if x[i].gift_amount <= 0:
    validation_error("The cash gift amount must be greater than zero.")
  if int(x[i].gift_amount) != x[i].gift_amount:
    validation_error("You must enter a whole dollar amount with no cents.")
  x[i].gift_amount_in_words = capitalize(nice_number(x[i].gift_amount, use_word=True))
---
id: more giftees
question: |
  Additional cash gifts
fields:
  - Would you like to leave another gift of cash?: giftee.there_is_another
    datatype: yesnoradio
---
code: |
  if giftee.number_gathered() >= 2:
     giftee.there_is_another = False
---
id: tangible_gifts
question: |
  You can choose to leave gifts of specific personal or household items to anyone you wish.
subquestion: |
  Such items may include jewelry, books, clothing, vehicles, appliances, and furniture. Personal and household items do not include land, homes, bank accounts, stocks, or bonds.

  You can execute your will without having this list prepared. You can prepare the list at any time. You can include as many or as few items on the list as you wish.
continue button field: tangible_gifts
---
id: wants_to_list_property
question: |
  Personal property list
subquestion: |
  You can update the list as often as you want.

  Sign and date the bottom of each new list that you make. If you don't sign and date the bottom of the list, your wishes may not be honored. If you make a list of personal property, it becomes part of your will. Keep it with your will.

  Anything not on this list becomes the "residue" of your estate.
fields:
  - Do you want to make a list of your personal property now?: tangible_property.there_are_any
    datatype: yesnoradio
---
id: list_of_property_receiver
question: |
  Enter a specific item of your personal property or household goods, and the name of the person you want to receive that item.
subquestion: |
  Be as clear as possible in describing both the item and the person who should receive it.

  % if tangible_property.number_gathered() > 1:
  So far, you have listed:

  Tangible Personal Property | Recipient
  ------------------------------ | -------------
  % for property in tangible_property.complete_elements():
  ${ property.item } | ${ property.recipient_name }
  % endfor
  % endif
fields:
  - Item: tangible_property[i].item
  - Full name of recipient: tangible_property[i].recipient_name
    show if:
      code: |
        tangible_property.number_gathered() <= 1
  - Full name of recipient: tangible_property[i].recipient_name
    input type: combobox
    hint: Fill in or select previous
    show if:
      code: |
        tangible_property.number_gathered() > 1
    code: |
      set(item.recipient_name for item in tangible_property.complete_elements())
---
id: ask_more_items
question: |
  You can specify more personal or household items.
subquestion: |
  So far, you have listed:

  Tangible Personal Property | Recipient
  ------------------------------ | -------------
  % for property in tangible_property:
  ${ property.item } | ${ property.recipient_name }
  % endfor
fields:
  - Do you want to specify another personal or household item?: tangible_property.there_is_another
    datatype: yesnoradio
---
id: blank_list_print
field: blank_list_print
question: |
  A blank list will print with your will.
subquestion: |
  If you decide to leave gifts of your personal property, fill in the list. Be sure to identify the item and the recipient as specifically as possible. Then sign and date the bottom of the list.
---
id: residue_general_explanation
question: |
  Everything you own that you have not already listed is called the residue of your estate.
subquestion: |
  The cash gifts you named and the property you put on the list are **not** included in the residue. Those will be taken from your estate before the residue is distributed.

  Under this will, the residue of your estate will go to your children in equal shares. If any of your children died before you, but had children who are still living (your grandchildren), those descendants get equal shares of what your deceased child would have inherited.
continue button field: residue_general_explanation
---
id: residue_heirs_explanation
question: |
  If no spouse, children, or descendants of your children survive you, the residue will be distributed to your other relatives.
subquestion: |
  These other relatives are called your "heirs."

  Your heirs are determined by law, the same way they would be if you died without a will. First, your parents or their descendants (your siblings, nieces, or nephews) would inherit. If none of those people survive you, then your grandparents or their descendants (your aunts, uncles, or cousins) would inherit. If the court can't identify any surviving relatives in these categories, the residue of your estate will go to the state of Michigan.
continue button field: residue_heirs_explanation
---
id: residue_distribution_explanation
question: |
  If there are no living descendants or spouse
subquestion: |
  If no spouse, child, or descendent of your child is living when you die, you can choose to:

  - Leave the residue of your estate entirely to your heirs (parents, siblings, nieces, uncles, etc.); or
  - Divide it evenly between your heirs and your spouse's heirs. If you have stepchildren, this is the only way they will inherit from you, using the statutory will.

  You can only choose one of these options. If you want to distribute your property differently, you may want to contact a lawyer to help you with your will. Use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) to find lawyers or legal services in your area.
continue button field: residue_distribution_explanation
---
id: residue_distribution
question: |
  Residue distribution
fields:
  - How do you want the residue of your estate to be distributed if no spouse, children, or descendant of your children survives you?: residue_distribution
    datatype: radio
    choices:
      - Leave the residue of my estate entirely to my heirs: own_heirs
      - Divide it evenly between my heirs and my spouse's heirs: own_heirs_and_spouse_heirs
---
id: personal_representatives
question: |
  The Michigan statute will requires you to choose a **personal representative.**
subquestion: |
  Your personal representative is the person who will make sure your property is distributed according to your wishes. The personal representative also pays any final bills you have when you die, usually by using or selling property from your estate.

  Pick a responsible person you trust to be your personal representative. You may want to choose someone who lives close to you. It's a good idea to ask the person if they are willing and able to serve as personal representative before you make a final choice.
  <hr>
  If there is enough money or property in your estate, you may consider choosing a bank as your personal representative.

  A bank will charge your estate a fee for that service.
continue button field: personal_representatives
---
id: representative_entity_type
question: |
  Personal representatives
fields:
  - Is your ${ ordinal(i) } personal representative a person or a bank?: representatives[i].entity_type
    datatype: radio
    choices:
      - Person: person
      - Bank: business
---
sets:
  - representatives[i].name.first
id: person_or_bank_detail
question: |
  % if representatives[i].entity_type == 'person':
  Enter the full name of the person you want to be your ${ ordinal(i) } personal representative.
  % else:
  Enter the name of the bank you want to be your ${ ordinal(i) } personal representative.
  % endif
fields:
  - Someone previously entered?: representatives[i]
    datatype: object
    disable others: True
    choices: |
      (person for person in (*guardians.complete_elements(), *conservators.complete_elements()) if person.entity_type == representatives[i].entity_type and person not in representatives.complete_elements())
  - code: |
      representatives[i].name_fields(person_or_business=representatives[i].entity_type)
---
sets:
  - representatives[i].address.address
  - representatives[i].address.city
  - representatives[i].address.zip
  - representatives[i].address.unit
  - representatives[i].address.state
id: representatives_address
question: |
  Enter ${ representatives[i].name.first }'s address.
fields:
  - code: |
      representatives[i].address_fields(country_code=AL_DEFAULT_COUNTRY, default_state=AL_DEFAULT_STATE)
---
question: |
  Alternate personal representative
subquestion: |
  It's a good idea to name a second choice for your personal representative, in case your first choice isn't able to do it.
fields:
  - Do you want to enter a second choice for personal representative?: representatives.there_is_another
    datatype: yesnoradio
---
code: |
  if representatives.number_gathered() >= 2:
     representatives.there_is_another = False
---
id: guardians_explanation
question: |
  You can name a guardian to take care of your children until they turn 18.
subquestion: |
  If your children's other parent outlives you and is able to care for them, that parent will likely get custody instead of your chosen guardian.

  If the other parent dies before you, has had their parental rights terminated, or is unable to care for your children, the guardian you chose can accept guardianship by filing with the probate court.
continue button field: guardians_explanation
---
id: appoint_guardian
question: |
  Guardians
subquestion: |
  It's a good idea to ask the person you choose if they are willing and able to serve as guardian before you make a final choice.

  If you want to name different guardians for different children, this tool and the statutory will won't work for you. You may want to contact a lawyer to help you with your will. Use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) to find lawyers or legal services in your area.
fields:
  - Do you want to name a guardian?: guardians.there_are_any
    datatype: yesnoradio
---
id: guardians_name
sets:
  - guardians[i].name.first
question: |
  Enter the full name of the person you would like to be the ${ ordinal(i) } guardian for your child.
fields:
  - Someone previously entered?: guardians[i]
    datatype: object
    disable others: True
    choices: |
      (person for person in (*representatives.complete_elements(), *conservators.complete_elements()) if person.entity_type == 'person' and person not in guardians.complete_elements())
  - code: |
      guardians[i].name_fields()
---
id: guardians_address
sets:
  - guardians[i].address.address
  - guardians[i].address.city
  - guardians[i].address.zip
  - guardians[i].address.unit
  - guardians[i].address.state
question: |
  Enter ${ guardians[i].name.first }'s address.
fields:
  - code: |
      guardians[i].address_fields(country_code=AL_DEFAULT_COUNTRY, default_state=AL_DEFAULT_STATE)
---
question: |
  Alternate guardian
subquestion: |
  It's a good idea to name a second choice, in case your first choice isn't able to be the guardian.
fields:
  - Do you want to add a second guardian?: guardians.there_is_another
    datatype: yesnoradio
---
code: |
  if guardians.number_gathered() >= 2:
     guardians.there_is_another = False
---
id: guardian_warning
question: |
  **Warning!**
subquestion: |
  If you later decide to name a guardian, you can include that person's name only by making a new will. Adding or crossing out any words on the statutory will form may make it invalid.
continue button field: guardian_warning
---
id: appoint_conservator
question: |
  Conservators
subquestion: |
  You can also name a conservator to manage money for the child's benefit.

  This can be the same person as the guardian, or it can be someone different. It's a good idea to ask the person if they are willing and able to serve as conservator before you make a final choice.

  The conservator can also be a bank. A bank will charge the estate a fee for this service.
fields:
  - Do you want to name a conservator?: conservators.there_are_any
    datatype: yesnoradio
---
id: conservator_entity_type
question: |
  Choose your ${ ordinal(i) } conservator.
fields:
  - Is your conservator a person or a bank?: conservators[i].entity_type
    datatype: radio
    choices:
      - Person: person
      - Bank: business
---
id: conservators_detail
sets:
  - conservators[i].name.first
question: |
  % if conservators[i].entity_type == 'person':
  Enter the full name of the person you want to be your conservator.
  % else:
  Enter the name of the bank you want to be your conservator.
  % endif
fields:
  - Someone previously entered?: conservators[i]
    datatype: object
    disable others: True
    choices: |
      (person for person in (*representatives.complete_elements(), *guardians.complete_elements()) if person.entity_type == conservators[i].entity_type and person not in conservators.complete_elements())
  - code: |
      conservators[i].name_fields(person_or_business=conservators[i].entity_type)
---
id: conservators_address
sets:
  - conservators[i].address.address
  - conservators[i].address.city
  - conservators[i].address.zip
  - conservators[i].address.unit
  - conservators[i].address.state
question: |
  Enter ${ conservators[i].name.first }'s address.
fields:
  - code: |
      conservators[i].address_fields(country_code=AL_DEFAULT_COUNTRY, default_state=AL_DEFAULT_STATE)
---
id: conservators_other
question: |
  Alternate conservator
subquestion: |
  It's a good idea to name a second choice, in case your first choice isn't able to be the conservator.
fields:
  - Do you want to include a second conservator?: conservators.there_is_another
    datatype: yesnoradio
---
code: |
  if conservators.number_gathered() >= 2:
     conservators.there_is_another = False
---
id: conservators_warning
question: |
  **Warning!**
subquestion: |
  If you later decide to name a conservator, you can include that person's name only by making a new will. Adding or crossing out any words on the statutory will form may make it invalid.
continue button field: conservators_warning
---
id: require_bond
question: |
  You can require bond for your personal representative and any conservator.
subquestion: |
  Bond is insurance that protects your heirs in case your personal representative or conservator misuses or steals assets from the estate. It's not required. If you request bond, it will be paid for from the assets in your estate.
fields:
  - Would you like to require a bond?: require_bond
    datatype: yesnoradio
---
if: not user_logged_in()
id: will saving answers logged out
question: |
  Saving your answers
subquestion: |
  You can save your answers so that you can come back to this tool later. This will allow you to make changes to your ${ MLH_form_type } without starting over.

  Below the Continue button, tap "Sign in" if you have an account or "Sign up" to make one. You can also go to the ${ ':bars:' if device().is_mobile else '' } Menu at the top of the screen and tap "Sign in or sign up to save answers".

  Warning! If you do not save your answers and you later discover a mistake in your printed will, you will have to restart this tool from the beginning and enter all of your answers again. Remember, crossing out or adding words to your printed will may make it invalid.
continue button field: MLH_outro_saving_answers
progress: 99
---
objects:
  - michigan_statutory_will_document: ALDocument.using(title=f"Statutory Will", filename=f"Michigan_Statutory_Will_for_{space_to_underscore(str(users).replace(".", ""))}.docx", enabled=True, has_addendum=False, default_overflow_message=" (Continued in Attachment)")
  - michigan_statutory_will_instructions: ALDocument.using(title="Instructions", filename="Michigan_Statutory_Will_Instructions.docx", enabled=True, has_addendum=False)
  - al_user_bundle: ALDocumentBundle.using(elements=[michigan_statutory_will_instructions, michigan_statutory_will_document], filename="Michigan_Statutory_Will_and_Instructions", title="Will and instructions", enabled=True)
---
attachments:
  - name: Michigan Statutory Will for ${users}
    variable name: michigan_statutory_will_document[i]
    docx template file: michigan_statutory_will.docx
    tagged pdf: True
  - name: Statutory Will Instructions
    variable name: michigan_statutory_will_instructions[i]
    docx template file: michigan_statutory_will_instructions.docx
    tagged pdf: True
---
id: DownloadScreen
event: MLH_download
question: |
  Get your ${ MLH_form_type }
subquestion: |
  You can **view**, **download**, or **e-mail** your ${ MLH_form_type } to yourself below. Tap the "âœŽ Review / Edit" button to fix any mistakes.

  <h2 class="h3">Download or e-mail your ${ MLH_form_type }</h2>

  ${ action_button_html(url_action('review_full'), label='âœŽ Review / Edit', color='info') }

  ${ al_user_bundle.download_list_html() }

  ${ al_user_bundle.send_button_html(show_editable_checkbox=False) }

  <h2 class="h3">Take our quick survey!</h2>
  Answer below or [open the survey in a new tab](${ survey_link_url_only }).
  ${ survey_embed_script }
progress: 100
---
# -----------------------------------------------------------------------------
## review
# -----------------------------------------------------------------------------
---
id: review_full
event: review_full
question: |
  Review your answers
review:
  - Edit: |
      users[0].name.first
    button: |
      **What is your name?**

      First: ${ showifdef('users[0].name.first') }

      Middle: ${ showifdef('users[0].name.middle') }

      Last: ${ showifdef('users[0].name.last') }
  - Edit: |
      users[0].dob
    button: |
      **What is your date of birth?**

      Date: ${ showifdef('users[0].dob') }
  - Edit: |
      county_choice
    button: |
      **County**

      What county do you live in?: ${ county_choice }
  - Edit: |
      spouse.there_are_any
    button: |
      **Marriage status**

      Are you married?: ${ word(yesno(spouse.there_are_any)) }
  - Edit: |
      spouse[0].name.first
    button: |
      **What is your spouse's full name?**

      First: ${ showifdef('spouse[0].name.first') }

      Middle: ${ showifdef('spouse[0].name.middle') }

      Last: ${ showifdef('spouse[0].name.last') }
  - Edit: |
      children.revisit
    button: |
      **Children**

      % for item in children:
      - ${ item }
      % else:
      ${ word("None") }
      % endfor
  - Edit: |
      has_minor_child
    button: |
      **Minor children**

      Do you have a child who is under the age of 18?: ${ word(yesno(has_minor_child)) }
  - Edit: |
      giftee.revisit
    button: |
      **Cash gift recipients**

      % for item in giftee:
      - ${ item }
          - ${ item.address.on_one_line() }
      % else:
      ${ word("None") }
      % endfor
  - Edit: |
      tangible_property.revisit
    button: |-
      **Tangible Property**

      % for item in tangible_property:
      - ${ item.item } - ${ item.recipient_name }
      % else:
      ${ word("None") }
      % endfor
  - Edit: |
      residue_distribution
    button: |
      **Residue distribution**

      How do you want the residue of your estate to be distributed?:
      
      % if residue_distribution == 'own_heirs':
      Leave the residue of my estate entirely to my heirs
      % else:
      Divide it evenly between my heirs and my spouse's heirs
      % endif
  - Edit: |
      representatives.revisit
    button: |
      **Personal representatives**

      % for item in representatives:
      - ${ item }
          - ${ item.address.on_one_line() }
      % else:
      ${ word("None") }
      % endfor
  - Edit: |
      guardians.revisit
    button: |
      **Guardians**

      % for item in guardians:
      - ${ item }
          - ${ item.address.on_one_line() }
      % else:
      ${ word("None") }
      % endfor
  - Edit: |
      conservators.revisit
    button: |
      **Conservators**

      % for item in conservators:
      - ${ item }
          - ${ item.address.on_one_line() }
      % else:
      ${ word("None") }
      % endfor
  - Edit: |
      require_bond
    button: |
      **Require bond**

      Would you like to require a bond?: ${ word(yesno(require_bond)) }
---
id: revisit list tangible_property
continue button field: tangible_property.revisit
question: |
  Edit your answers about your personal property
subquestion: |
  ${ tangible_property.table }

  ${ tangible_property.add_action() }
---
table: tangible_property.table
rows: tangible_property
columns:
  - Item: row_item.item
  - Full name of recipient: row_item.recipient_name
edit:
  - item
  - recipient_name
show incomplete: True
---
generic object: ALPeopleList
id: revisit list
continue button field: x.revisit
question: |
  Edit your answers about your ${ x.instanceName }
subquestion: |
  ${ x.table }

  % if x is children or x.number() < 2:
  ${ x.add_action() }
  % endif
---
table: children.table
rows: children
columns:
  - Name: row_item.name
edit:
  - name.first
show incomplete: True
---
table: giftee.table
rows: giftee
columns:
  - Name: f'{row_item.name} {("(Child)" if row_item in children else "")}'
  - Address: row_item.address.on_one_line()
  - Gift Amount: currency(row_item.gift_amount)
edit:
  - entity_type
  - name.first
  - us_address
  - address.address
  - gift_amount
show incomplete: True
---
table: representatives.table
rows: representatives
columns:
  - Name: row_item.name
  - Address: row_item.address.on_one_line()
edit:
  - entity_type
  - name.first
  - address.address
show incomplete: True
---
table: guardians.table
rows: guardians
columns:
  - Name: row_item.name
  - Address: row_item.address.on_one_line()
edit:
  - name.first
  - address.address
show incomplete: True
---
table: conservators.table
rows: conservators
columns:
  - Name: row_item.name
  - Address: row_item.address.on_one_line()
edit:
  - entity_type
  - name.first
  - address.address
show incomplete: True
---
